/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var st=Object.create;var Qe=Object.defineProperty;var vt=Object.getOwnPropertyDescriptor;var gt=Object.getOwnPropertyNames;var wt=Object.getPrototypeOf,pt=Object.prototype.hasOwnProperty;var et=(ee,J)=>()=>(J||ee((J={exports:{}}).exports,J),J.exports),bt=(ee,J)=>{for(var ce in J)Qe(ee,ce,{get:J[ce],enumerable:!0})},rt=(ee,J,ce,A)=>{if(J&&typeof J=="object"||typeof J=="function")for(let O of gt(J))!pt.call(ee,O)&&O!==ce&&Qe(ee,O,{get:()=>J[O],enumerable:!(A=vt(J,O))||A.enumerable});return ee};var xt=(ee,J,ce)=>(ce=ee!=null?st(wt(ee)):{},rt(J||!ee||!ee.__esModule?Qe(ce,"default",{value:ee,enumerable:!0}):ce,ee)),kt=ee=>rt(Qe({},"__esModule",{value:!0}),ee);var lt=et((ft,tt)=>{(function(ee){if(typeof ft=="object"&&typeof tt!="undefined")tt.exports=ee();else if(typeof define=="function"&&define.amd)define([],ee);else{var J;typeof window!="undefined"?J=window:typeof global!="undefined"?J=global:typeof self!="undefined"?J=self:J=this,J.plantumlEncoder=ee()}})(function(){var ee,J,ce;return function(){function A(O,w,p){function E(o,u){if(!w[o]){if(!O[o]){var l=typeof require=="function"&&require;if(!u&&l)return l(o,!0);if(k)return k(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var r=w[o]={exports:{}};O[o][0].call(r.exports,function(g){var m=O[o][1][g];return E(m||g)},r,r.exports,A,O,w,p)}return w[o].exports}for(var k=typeof require=="function"&&require,h=0;h<p.length;h++)E(p[h]);return E}return A}()({1:[function(A,O,w){"use strict";var p=A("pako/lib/deflate.js");O.exports=function(E){return p.deflateRaw(E,{level:9,to:"string"})}},{"pako/lib/deflate.js":4}],2:[function(A,O,w){"use strict";function p(k){return k<10?String.fromCharCode(48+k):(k-=10,k<26?String.fromCharCode(65+k):(k-=26,k<26?String.fromCharCode(97+k):(k-=26,k===0?"-":k===1?"_":"?")))}function E(k,h,o){var u=k>>2,l=(k&3)<<4|h>>4,c=(h&15)<<2|o>>6,r=o&63,g="";return g+=p(u&63),g+=p(l&63),g+=p(c&63),g+=p(r&63),g}O.exports=function(k){for(var h="",o=0;o<k.length;o+=3)o+2===k.length?h+=E(k.charCodeAt(o),k.charCodeAt(o+1),0):o+1===k.length?h+=E(k.charCodeAt(o),0,0):h+=E(k.charCodeAt(o),k.charCodeAt(o+1),k.charCodeAt(o+2));return h}},{}],3:[function(A,O,w){"use strict";var p=A("./deflate"),E=A("./encode64");O.exports.encode=function(k){var h=p(k);return E(h)}},{"./deflate":1,"./encode64":2}],4:[function(A,O,w){"use strict";var p=A("./zlib/deflate"),E=A("./utils/common"),k=A("./utils/strings"),h=A("./zlib/messages"),o=A("./zlib/zstream"),u=Object.prototype.toString,l=0,c=4,r=0,g=1,m=2,T=-1,S=0,z=8;function U(j){if(!(this instanceof U))return new U(j);this.options=E.assign({level:T,method:z,chunkSize:16384,windowBits:15,memLevel:8,strategy:S,to:""},j||{});var L=this.options;L.raw&&L.windowBits>0?L.windowBits=-L.windowBits:L.gzip&&L.windowBits>0&&L.windowBits<16&&(L.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o,this.strm.avail_out=0;var M=p.deflateInit2(this.strm,L.level,L.method,L.windowBits,L.memLevel,L.strategy);if(M!==r)throw new Error(h[M]);if(L.header&&p.deflateSetHeader(this.strm,L.header),L.dictionary){var Y;if(typeof L.dictionary=="string"?Y=k.string2buf(L.dictionary):u.call(L.dictionary)==="[object ArrayBuffer]"?Y=new Uint8Array(L.dictionary):Y=L.dictionary,M=p.deflateSetDictionary(this.strm,Y),M!==r)throw new Error(h[M]);this._dict_set=!0}}U.prototype.push=function(j,L){var M=this.strm,Y=this.options.chunkSize,F,C;if(this.ended)return!1;C=L===~~L?L:L===!0?c:l,typeof j=="string"?M.input=k.string2buf(j):u.call(j)==="[object ArrayBuffer]"?M.input=new Uint8Array(j):M.input=j,M.next_in=0,M.avail_in=M.input.length;do{if(M.avail_out===0&&(M.output=new E.Buf8(Y),M.next_out=0,M.avail_out=Y),F=p.deflate(M,C),F!==g&&F!==r)return this.onEnd(F),this.ended=!0,!1;(M.avail_out===0||M.avail_in===0&&(C===c||C===m))&&(this.options.to==="string"?this.onData(k.buf2binstring(E.shrinkBuf(M.output,M.next_out))):this.onData(E.shrinkBuf(M.output,M.next_out)))}while((M.avail_in>0||M.avail_out===0)&&F!==g);return C===c?(F=p.deflateEnd(this.strm),this.onEnd(F),this.ended=!0,F===r):(C===m&&(this.onEnd(r),M.avail_out=0),!0)},U.prototype.onData=function(j){this.chunks.push(j)},U.prototype.onEnd=function(j){j===r&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=E.flattenChunks(this.chunks)),this.chunks=[],this.err=j,this.msg=this.strm.msg};function fe(j,L){var M=new U(L);if(M.push(j,!0),M.err)throw M.msg||h[M.err];return M.result}function I(j,L){return L=L||{},L.raw=!0,fe(j,L)}function B(j,L){return L=L||{},L.gzip=!0,fe(j,L)}w.Deflate=U,w.deflate=fe,w.deflateRaw=I,w.gzip=B},{"./utils/common":5,"./utils/strings":6,"./zlib/deflate":9,"./zlib/messages":10,"./zlib/zstream":12}],5:[function(A,O,w){"use strict";var p=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Int32Array!="undefined";function E(o,u){return Object.prototype.hasOwnProperty.call(o,u)}w.assign=function(o){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var l=u.shift();if(l){if(typeof l!="object")throw new TypeError(l+"must be non-object");for(var c in l)E(l,c)&&(o[c]=l[c])}}return o},w.shrinkBuf=function(o,u){return o.length===u?o:o.subarray?o.subarray(0,u):(o.length=u,o)};var k={arraySet:function(o,u,l,c,r){if(u.subarray&&o.subarray){o.set(u.subarray(l,l+c),r);return}for(var g=0;g<c;g++)o[r+g]=u[l+g]},flattenChunks:function(o){var u,l,c,r,g,m;for(c=0,u=0,l=o.length;u<l;u++)c+=o[u].length;for(m=new Uint8Array(c),r=0,u=0,l=o.length;u<l;u++)g=o[u],m.set(g,r),r+=g.length;return m}},h={arraySet:function(o,u,l,c,r){for(var g=0;g<c;g++)o[r+g]=u[l+g]},flattenChunks:function(o){return[].concat.apply([],o)}};w.setTyped=function(o){o?(w.Buf8=Uint8Array,w.Buf16=Uint16Array,w.Buf32=Int32Array,w.assign(w,k)):(w.Buf8=Array,w.Buf16=Array,w.Buf32=Array,w.assign(w,h))},w.setTyped(p)},{}],6:[function(A,O,w){"use strict";var p=A("./common"),E=!0,k=!0;try{String.fromCharCode.apply(null,[0])}catch(l){E=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(l){k=!1}for(var h=new p.Buf8(256),o=0;o<256;o++)h[o]=o>=252?6:o>=248?5:o>=240?4:o>=224?3:o>=192?2:1;h[254]=h[254]=1,w.string2buf=function(l){var c,r,g,m,T,S=l.length,z=0;for(m=0;m<S;m++)r=l.charCodeAt(m),(r&64512)===55296&&m+1<S&&(g=l.charCodeAt(m+1),(g&64512)===56320&&(r=65536+(r-55296<<10)+(g-56320),m++)),z+=r<128?1:r<2048?2:r<65536?3:4;for(c=new p.Buf8(z),T=0,m=0;T<z;m++)r=l.charCodeAt(m),(r&64512)===55296&&m+1<S&&(g=l.charCodeAt(m+1),(g&64512)===56320&&(r=65536+(r-55296<<10)+(g-56320),m++)),r<128?c[T++]=r:r<2048?(c[T++]=192|r>>>6,c[T++]=128|r&63):r<65536?(c[T++]=224|r>>>12,c[T++]=128|r>>>6&63,c[T++]=128|r&63):(c[T++]=240|r>>>18,c[T++]=128|r>>>12&63,c[T++]=128|r>>>6&63,c[T++]=128|r&63);return c};function u(l,c){if(c<65534&&(l.subarray&&k||!l.subarray&&E))return String.fromCharCode.apply(null,p.shrinkBuf(l,c));for(var r="",g=0;g<c;g++)r+=String.fromCharCode(l[g]);return r}w.buf2binstring=function(l){return u(l,l.length)},w.binstring2buf=function(l){for(var c=new p.Buf8(l.length),r=0,g=c.length;r<g;r++)c[r]=l.charCodeAt(r);return c},w.buf2string=function(l,c){var r,g,m,T,S=c||l.length,z=new Array(S*2);for(g=0,r=0;r<S;){if(m=l[r++],m<128){z[g++]=m;continue}if(T=h[m],T>4){z[g++]=65533,r+=T-1;continue}for(m&=T===2?31:T===3?15:7;T>1&&r<S;)m=m<<6|l[r++]&63,T--;if(T>1){z[g++]=65533;continue}m<65536?z[g++]=m:(m-=65536,z[g++]=55296|m>>10&1023,z[g++]=56320|m&1023)}return u(z,g)},w.utf8border=function(l,c){var r;for(c=c||l.length,c>l.length&&(c=l.length),r=c-1;r>=0&&(l[r]&192)===128;)r--;return r<0||r===0?c:r+h[l[r]]>c?r:c}},{"./common":5}],7:[function(A,O,w){"use strict";function p(E,k,h,o){for(var u=E&65535|0,l=E>>>16&65535|0,c=0;h!==0;){c=h>2e3?2e3:h,h-=c;do u=u+k[o++]|0,l=l+u|0;while(--c);u%=65521,l%=65521}return u|l<<16|0}O.exports=p},{}],8:[function(A,O,w){"use strict";function p(){for(var h,o=[],u=0;u<256;u++){h=u;for(var l=0;l<8;l++)h=h&1?3988292384^h>>>1:h>>>1;o[u]=h}return o}var E=p();function k(h,o,u,l){var c=E,r=l+u;h^=-1;for(var g=l;g<r;g++)h=h>>>8^c[(h^o[g])&255];return h^-1}O.exports=k},{}],9:[function(A,O,w){"use strict";var p=A("../utils/common"),E=A("./trees"),k=A("./adler32"),h=A("./crc32"),o=A("./messages"),u=0,l=1,c=3,r=4,g=5,m=0,T=1,S=-2,z=-3,U=-5,fe=-1,I=1,B=2,j=3,L=4,M=0,Y=2,F=8,C=9,G=15,Q=8,X=29,te=256,re=te+1+X,P=30,ae=19,se=2*re+1,ke=15,K=3,ve=258,le=ve+K+1,De=32,Te=42,be=69,de=73,Se=91,pe=103,ie=113,ue=666,q=1,me=2,Oe=3,Ne=4,ne=3;function ze(e,_){return e.msg=o[_],_}function je(e){return(e<<1)-(e>4?9:0)}function Re(e){for(var _=e.length;--_>=0;)e[_]=0}function Ce(e){var _=e.state,s=_.pending;s>e.avail_out&&(s=e.avail_out),s!==0&&(p.arraySet(e.output,_.pending_buf,_.pending_out,s,e.next_out),e.next_out+=s,_.pending_out+=s,e.total_out+=s,e.avail_out-=s,_.pending-=s,_.pending===0&&(_.pending_out=0))}function oe(e,_){E._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,_),e.block_start=e.strstart,Ce(e.strm)}function $(e,_){e.pending_buf[e.pending++]=_}function Le(e,_){e.pending_buf[e.pending++]=_>>>8&255,e.pending_buf[e.pending++]=_&255}function Ge(e,_,s,a){var n=e.avail_in;return n>a&&(n=a),n===0?0:(e.avail_in-=n,p.arraySet(_,e.input,e.next_in,n,s),e.state.wrap===1?e.adler=k(e.adler,_,n,s):e.state.wrap===2&&(e.adler=h(e.adler,_,n,s)),e.next_in+=n,e.total_in+=n,n)}function He(e,_){var s=e.max_chain_length,a=e.strstart,n,d,Z=e.prev_length,D=e.nice_match,R=e.strstart>e.w_size-le?e.strstart-(e.w_size-le):0,V=e.window,Me=e.w_mask,_e=e.prev,W=e.strstart+ve,we=V[a+Z-1],Ee=V[a+Z];e.prev_length>=e.good_match&&(s>>=2),D>e.lookahead&&(D=e.lookahead);do if(n=_,!(V[n+Z]!==Ee||V[n+Z-1]!==we||V[n]!==V[a]||V[++n]!==V[a+1])){a+=2,n++;do;while(V[++a]===V[++n]&&V[++a]===V[++n]&&V[++a]===V[++n]&&V[++a]===V[++n]&&V[++a]===V[++n]&&V[++a]===V[++n]&&V[++a]===V[++n]&&V[++a]===V[++n]&&a<W);if(d=ve-(W-a),a=W-ve,d>Z){if(e.match_start=_,Z=d,d>=D)break;we=V[a+Z-1],Ee=V[a+Z]}}while((_=_e[_&Me])>R&&--s!==0);return Z<=e.lookahead?Z:e.lookahead}function Ze(e){var _=e.w_size,s,a,n,d,Z;do{if(d=e.window_size-e.lookahead-e.strstart,e.strstart>=_+(_-le)){p.arraySet(e.window,e.window,_,_,0),e.match_start-=_,e.strstart-=_,e.block_start-=_,a=e.hash_size,s=a;do n=e.head[--s],e.head[s]=n>=_?n-_:0;while(--a);a=_,s=a;do n=e.prev[--s],e.prev[s]=n>=_?n-_:0;while(--a);d+=_}if(e.strm.avail_in===0)break;if(a=Ge(e.strm,e.window,e.strstart+e.lookahead,d),e.lookahead+=a,e.lookahead+e.insert>=K)for(Z=e.strstart-e.insert,e.ins_h=e.window[Z],e.ins_h=(e.ins_h<<e.hash_shift^e.window[Z+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[Z+K-1])&e.hash_mask,e.prev[Z&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=Z,Z++,e.insert--,!(e.lookahead+e.insert<K)););}while(e.lookahead<le&&e.strm.avail_in!==0)}function Xe(e,_){var s=65535;for(s>e.pending_buf_size-5&&(s=e.pending_buf_size-5);;){if(e.lookahead<=1){if(Ze(e),e.lookahead===0&&_===u)return q;if(e.lookahead===0)break}e.strstart+=e.lookahead,e.lookahead=0;var a=e.block_start+s;if((e.strstart===0||e.strstart>=a)&&(e.lookahead=e.strstart-a,e.strstart=a,oe(e,!1),e.strm.avail_out===0)||e.strstart-e.block_start>=e.w_size-le&&(oe(e,!1),e.strm.avail_out===0))return q}return e.insert=0,_===r?(oe(e,!0),e.strm.avail_out===0?Oe:Ne):(e.strstart>e.block_start&&(oe(e,!1),e.strm.avail_out===0),q)}function Ke(e,_){for(var s,a;;){if(e.lookahead<le){if(Ze(e),e.lookahead<le&&_===u)return q;if(e.lookahead===0)break}if(s=0,e.lookahead>=K&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+K-1])&e.hash_mask,s=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),s!==0&&e.strstart-s<=e.w_size-le&&(e.match_length=He(e,s)),e.match_length>=K)if(a=E._tr_tally(e,e.strstart-e.match_start,e.match_length-K),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=K){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+K-1])&e.hash_mask,s=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else a=E._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(a&&(oe(e,!1),e.strm.avail_out===0))return q}return e.insert=e.strstart<K-1?e.strstart:K-1,_===r?(oe(e,!0),e.strm.avail_out===0?Oe:Ne):e.last_lit&&(oe(e,!1),e.strm.avail_out===0)?q:me}function Ie(e,_){for(var s,a,n;;){if(e.lookahead<le){if(Ze(e),e.lookahead<le&&_===u)return q;if(e.lookahead===0)break}if(s=0,e.lookahead>=K&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+K-1])&e.hash_mask,s=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=K-1,s!==0&&e.prev_length<e.max_lazy_match&&e.strstart-s<=e.w_size-le&&(e.match_length=He(e,s),e.match_length<=5&&(e.strategy===I||e.match_length===K&&e.strstart-e.match_start>4096)&&(e.match_length=K-1)),e.prev_length>=K&&e.match_length<=e.prev_length){n=e.strstart+e.lookahead-K,a=E._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-K),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=n&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+K-1])&e.hash_mask,s=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=K-1,e.strstart++,a&&(oe(e,!1),e.strm.avail_out===0))return q}else if(e.match_available){if(a=E._tr_tally(e,0,e.window[e.strstart-1]),a&&oe(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return q}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(a=E._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<K-1?e.strstart:K-1,_===r?(oe(e,!0),e.strm.avail_out===0?Oe:Ne):e.last_lit&&(oe(e,!1),e.strm.avail_out===0)?q:me}function $e(e,_){for(var s,a,n,d,Z=e.window;;){if(e.lookahead<=ve){if(Ze(e),e.lookahead<=ve&&_===u)return q;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=K&&e.strstart>0&&(n=e.strstart-1,a=Z[n],a===Z[++n]&&a===Z[++n]&&a===Z[++n])){d=e.strstart+ve;do;while(a===Z[++n]&&a===Z[++n]&&a===Z[++n]&&a===Z[++n]&&a===Z[++n]&&a===Z[++n]&&a===Z[++n]&&a===Z[++n]&&n<d);e.match_length=ve-(d-n),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=K?(s=E._tr_tally(e,1,e.match_length-K),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(s=E._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),s&&(oe(e,!1),e.strm.avail_out===0))return q}return e.insert=0,_===r?(oe(e,!0),e.strm.avail_out===0?Oe:Ne):e.last_lit&&(oe(e,!1),e.strm.avail_out===0)?q:me}function Ye(e,_){for(var s;;){if(e.lookahead===0&&(Ze(e),e.lookahead===0)){if(_===u)return q;break}if(e.match_length=0,s=E._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,s&&(oe(e,!1),e.strm.avail_out===0))return q}return e.insert=0,_===r?(oe(e,!0),e.strm.avail_out===0?Oe:Ne):e.last_lit&&(oe(e,!1),e.strm.avail_out===0)?q:me}function ye(e,_,s,a,n){this.good_length=e,this.max_lazy=_,this.nice_length=s,this.max_chain=a,this.func=n}var Fe;Fe=[new ye(0,0,0,0,Xe),new ye(4,4,8,4,Ke),new ye(4,5,16,8,Ke),new ye(4,6,32,32,Ke),new ye(4,4,16,16,Ie),new ye(8,16,32,32,Ie),new ye(8,16,128,128,Ie),new ye(8,32,128,256,Ie),new ye(32,128,258,1024,Ie),new ye(32,258,258,4096,Ie)];function Ve(e){e.window_size=2*e.w_size,Re(e.head),e.max_lazy_match=Fe[e.level].max_lazy,e.good_match=Fe[e.level].good_length,e.nice_match=Fe[e.level].nice_length,e.max_chain_length=Fe[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=K-1,e.match_available=0,e.ins_h=0}function i(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=F,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new p.Buf16(se*2),this.dyn_dtree=new p.Buf16((2*P+1)*2),this.bl_tree=new p.Buf16((2*ae+1)*2),Re(this.dyn_ltree),Re(this.dyn_dtree),Re(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new p.Buf16(ke+1),this.heap=new p.Buf16(2*re+1),Re(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new p.Buf16(2*re+1),Re(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function b(e){var _;return!e||!e.state?ze(e,S):(e.total_in=e.total_out=0,e.data_type=Y,_=e.state,_.pending=0,_.pending_out=0,_.wrap<0&&(_.wrap=-_.wrap),_.status=_.wrap?Te:ie,e.adler=_.wrap===2?0:1,_.last_flush=u,E._tr_init(_),m)}function y(e){var _=b(e);return _===m&&Ve(e.state),_}function N(e,_){return!e||!e.state||e.state.wrap!==2?S:(e.state.gzhead=_,m)}function f(e,_,s,a,n,d){if(!e)return S;var Z=1;if(_===fe&&(_=6),a<0?(Z=0,a=-a):a>15&&(Z=2,a-=16),n<1||n>C||s!==F||a<8||a>15||_<0||_>9||d<0||d>L)return ze(e,S);a===8&&(a=9);var D=new i;return e.state=D,D.strm=e,D.wrap=Z,D.gzhead=null,D.w_bits=a,D.w_size=1<<D.w_bits,D.w_mask=D.w_size-1,D.hash_bits=n+7,D.hash_size=1<<D.hash_bits,D.hash_mask=D.hash_size-1,D.hash_shift=~~((D.hash_bits+K-1)/K),D.window=new p.Buf8(D.w_size*2),D.head=new p.Buf16(D.hash_size),D.prev=new p.Buf16(D.w_size),D.lit_bufsize=1<<n+6,D.pending_buf_size=D.lit_bufsize*4,D.pending_buf=new p.Buf8(D.pending_buf_size),D.d_buf=1*D.lit_bufsize,D.l_buf=(1+2)*D.lit_bufsize,D.level=_,D.strategy=d,D.method=s,y(e)}function v(e,_){return f(e,_,F,G,Q,M)}function t(e,_){var s,a,n,d;if(!e||!e.state||_>g||_<0)return e?ze(e,S):S;if(a=e.state,!e.output||!e.input&&e.avail_in!==0||a.status===ue&&_!==r)return ze(e,e.avail_out===0?U:S);if(a.strm=e,s=a.last_flush,a.last_flush=_,a.status===Te)if(a.wrap===2)e.adler=0,$(a,31),$(a,139),$(a,8),a.gzhead?($(a,(a.gzhead.text?1:0)+(a.gzhead.hcrc?2:0)+(a.gzhead.extra?4:0)+(a.gzhead.name?8:0)+(a.gzhead.comment?16:0)),$(a,a.gzhead.time&255),$(a,a.gzhead.time>>8&255),$(a,a.gzhead.time>>16&255),$(a,a.gzhead.time>>24&255),$(a,a.level===9?2:a.strategy>=B||a.level<2?4:0),$(a,a.gzhead.os&255),a.gzhead.extra&&a.gzhead.extra.length&&($(a,a.gzhead.extra.length&255),$(a,a.gzhead.extra.length>>8&255)),a.gzhead.hcrc&&(e.adler=h(e.adler,a.pending_buf,a.pending,0)),a.gzindex=0,a.status=be):($(a,0),$(a,0),$(a,0),$(a,0),$(a,0),$(a,a.level===9?2:a.strategy>=B||a.level<2?4:0),$(a,ne),a.status=ie);else{var Z=F+(a.w_bits-8<<4)<<8,D=-1;a.strategy>=B||a.level<2?D=0:a.level<6?D=1:a.level===6?D=2:D=3,Z|=D<<6,a.strstart!==0&&(Z|=De),Z+=31-Z%31,a.status=ie,Le(a,Z),a.strstart!==0&&(Le(a,e.adler>>>16),Le(a,e.adler&65535)),e.adler=1}if(a.status===be)if(a.gzhead.extra){for(n=a.pending;a.gzindex<(a.gzhead.extra.length&65535)&&!(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>n&&(e.adler=h(e.adler,a.pending_buf,a.pending-n,n)),Ce(e),n=a.pending,a.pending===a.pending_buf_size));)$(a,a.gzhead.extra[a.gzindex]&255),a.gzindex++;a.gzhead.hcrc&&a.pending>n&&(e.adler=h(e.adler,a.pending_buf,a.pending-n,n)),a.gzindex===a.gzhead.extra.length&&(a.gzindex=0,a.status=de)}else a.status=de;if(a.status===de)if(a.gzhead.name){n=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>n&&(e.adler=h(e.adler,a.pending_buf,a.pending-n,n)),Ce(e),n=a.pending,a.pending===a.pending_buf_size)){d=1;break}a.gzindex<a.gzhead.name.length?d=a.gzhead.name.charCodeAt(a.gzindex++)&255:d=0,$(a,d)}while(d!==0);a.gzhead.hcrc&&a.pending>n&&(e.adler=h(e.adler,a.pending_buf,a.pending-n,n)),d===0&&(a.gzindex=0,a.status=Se)}else a.status=Se;if(a.status===Se)if(a.gzhead.comment){n=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>n&&(e.adler=h(e.adler,a.pending_buf,a.pending-n,n)),Ce(e),n=a.pending,a.pending===a.pending_buf_size)){d=1;break}a.gzindex<a.gzhead.comment.length?d=a.gzhead.comment.charCodeAt(a.gzindex++)&255:d=0,$(a,d)}while(d!==0);a.gzhead.hcrc&&a.pending>n&&(e.adler=h(e.adler,a.pending_buf,a.pending-n,n)),d===0&&(a.status=pe)}else a.status=pe;if(a.status===pe&&(a.gzhead.hcrc?(a.pending+2>a.pending_buf_size&&Ce(e),a.pending+2<=a.pending_buf_size&&($(a,e.adler&255),$(a,e.adler>>8&255),e.adler=0,a.status=ie)):a.status=ie),a.pending!==0){if(Ce(e),e.avail_out===0)return a.last_flush=-1,m}else if(e.avail_in===0&&je(_)<=je(s)&&_!==r)return ze(e,U);if(a.status===ue&&e.avail_in!==0)return ze(e,U);if(e.avail_in!==0||a.lookahead!==0||_!==u&&a.status!==ue){var R=a.strategy===B?Ye(a,_):a.strategy===j?$e(a,_):Fe[a.level].func(a,_);if((R===Oe||R===Ne)&&(a.status=ue),R===q||R===Oe)return e.avail_out===0&&(a.last_flush=-1),m;if(R===me&&(_===l?E._tr_align(a):_!==g&&(E._tr_stored_block(a,0,0,!1),_===c&&(Re(a.head),a.lookahead===0&&(a.strstart=0,a.block_start=0,a.insert=0))),Ce(e),e.avail_out===0))return a.last_flush=-1,m}return _!==r?m:a.wrap<=0?T:(a.wrap===2?($(a,e.adler&255),$(a,e.adler>>8&255),$(a,e.adler>>16&255),$(a,e.adler>>24&255),$(a,e.total_in&255),$(a,e.total_in>>8&255),$(a,e.total_in>>16&255),$(a,e.total_in>>24&255)):(Le(a,e.adler>>>16),Le(a,e.adler&65535)),Ce(e),a.wrap>0&&(a.wrap=-a.wrap),a.pending!==0?m:T)}function x(e){var _;return!e||!e.state?S:(_=e.state.status,_!==Te&&_!==be&&_!==de&&_!==Se&&_!==pe&&_!==ie&&_!==ue?ze(e,S):(e.state=null,_===ie?ze(e,z):m))}function H(e,_){var s=_.length,a,n,d,Z,D,R,V,Me;if(!e||!e.state||(a=e.state,Z=a.wrap,Z===2||Z===1&&a.status!==Te||a.lookahead))return S;for(Z===1&&(e.adler=k(e.adler,_,s,0)),a.wrap=0,s>=a.w_size&&(Z===0&&(Re(a.head),a.strstart=0,a.block_start=0,a.insert=0),Me=new p.Buf8(a.w_size),p.arraySet(Me,_,s-a.w_size,a.w_size,0),_=Me,s=a.w_size),D=e.avail_in,R=e.next_in,V=e.input,e.avail_in=s,e.next_in=0,e.input=_,Ze(a);a.lookahead>=K;){n=a.strstart,d=a.lookahead-(K-1);do a.ins_h=(a.ins_h<<a.hash_shift^a.window[n+K-1])&a.hash_mask,a.prev[n&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=n,n++;while(--d);a.strstart=n,a.lookahead=K-1,Ze(a)}return a.strstart+=a.lookahead,a.block_start=a.strstart,a.insert=a.lookahead,a.lookahead=0,a.match_length=a.prev_length=K-1,a.match_available=0,e.next_in=R,e.input=V,e.avail_in=D,a.wrap=Z,m}w.deflateInit=v,w.deflateInit2=f,w.deflateReset=y,w.deflateResetKeep=b,w.deflateSetHeader=N,w.deflate=t,w.deflateEnd=x,w.deflateSetDictionary=H,w.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":5,"./adler32":7,"./crc32":8,"./messages":10,"./trees":11}],10:[function(A,O,w){"use strict";O.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],11:[function(A,O,w){"use strict";var p=A("../utils/common"),E=4,k=0,h=1,o=2;function u(i){for(var b=i.length;--b>=0;)i[b]=0}var l=0,c=1,r=2,g=3,m=258,T=29,S=256,z=S+1+T,U=30,fe=19,I=2*z+1,B=15,j=16,L=7,M=256,Y=16,F=17,C=18,G=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Q=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],X=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],te=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],re=512,P=new Array((z+2)*2);u(P);var ae=new Array(U*2);u(ae);var se=new Array(re);u(se);var ke=new Array(m-g+1);u(ke);var K=new Array(T);u(K);var ve=new Array(U);u(ve);function le(i,b,y,N,f){this.static_tree=i,this.extra_bits=b,this.extra_base=y,this.elems=N,this.max_length=f,this.has_stree=i&&i.length}var De,Te,be;function de(i,b){this.dyn_tree=i,this.max_code=0,this.stat_desc=b}function Se(i){return i<256?se[i]:se[256+(i>>>7)]}function pe(i,b){i.pending_buf[i.pending++]=b&255,i.pending_buf[i.pending++]=b>>>8&255}function ie(i,b,y){i.bi_valid>j-y?(i.bi_buf|=b<<i.bi_valid&65535,pe(i,i.bi_buf),i.bi_buf=b>>j-i.bi_valid,i.bi_valid+=y-j):(i.bi_buf|=b<<i.bi_valid&65535,i.bi_valid+=y)}function ue(i,b,y){ie(i,y[b*2],y[b*2+1])}function q(i,b){var y=0;do y|=i&1,i>>>=1,y<<=1;while(--b>0);return y>>>1}function me(i){i.bi_valid===16?(pe(i,i.bi_buf),i.bi_buf=0,i.bi_valid=0):i.bi_valid>=8&&(i.pending_buf[i.pending++]=i.bi_buf&255,i.bi_buf>>=8,i.bi_valid-=8)}function Oe(i,b){var y=b.dyn_tree,N=b.max_code,f=b.stat_desc.static_tree,v=b.stat_desc.has_stree,t=b.stat_desc.extra_bits,x=b.stat_desc.extra_base,H=b.stat_desc.max_length,e,_,s,a,n,d,Z=0;for(a=0;a<=B;a++)i.bl_count[a]=0;for(y[i.heap[i.heap_max]*2+1]=0,e=i.heap_max+1;e<I;e++)_=i.heap[e],a=y[y[_*2+1]*2+1]+1,a>H&&(a=H,Z++),y[_*2+1]=a,!(_>N)&&(i.bl_count[a]++,n=0,_>=x&&(n=t[_-x]),d=y[_*2],i.opt_len+=d*(a+n),v&&(i.static_len+=d*(f[_*2+1]+n)));if(Z!==0){do{for(a=H-1;i.bl_count[a]===0;)a--;i.bl_count[a]--,i.bl_count[a+1]+=2,i.bl_count[H]--,Z-=2}while(Z>0);for(a=H;a!==0;a--)for(_=i.bl_count[a];_!==0;)s=i.heap[--e],!(s>N)&&(y[s*2+1]!==a&&(i.opt_len+=(a-y[s*2+1])*y[s*2],y[s*2+1]=a),_--)}}function Ne(i,b,y){var N=new Array(B+1),f=0,v,t;for(v=1;v<=B;v++)N[v]=f=f+y[v-1]<<1;for(t=0;t<=b;t++){var x=i[t*2+1];x!==0&&(i[t*2]=q(N[x]++,x))}}function ne(){var i,b,y,N,f,v=new Array(B+1);for(y=0,N=0;N<T-1;N++)for(K[N]=y,i=0;i<1<<G[N];i++)ke[y++]=N;for(ke[y-1]=N,f=0,N=0;N<16;N++)for(ve[N]=f,i=0;i<1<<Q[N];i++)se[f++]=N;for(f>>=7;N<U;N++)for(ve[N]=f<<7,i=0;i<1<<Q[N]-7;i++)se[256+f++]=N;for(b=0;b<=B;b++)v[b]=0;for(i=0;i<=143;)P[i*2+1]=8,i++,v[8]++;for(;i<=255;)P[i*2+1]=9,i++,v[9]++;for(;i<=279;)P[i*2+1]=7,i++,v[7]++;for(;i<=287;)P[i*2+1]=8,i++,v[8]++;for(Ne(P,z+1,v),i=0;i<U;i++)ae[i*2+1]=5,ae[i*2]=q(i,5);De=new le(P,G,S+1,z,B),Te=new le(ae,Q,0,U,B),be=new le(new Array(0),X,0,fe,L)}function ze(i){var b;for(b=0;b<z;b++)i.dyn_ltree[b*2]=0;for(b=0;b<U;b++)i.dyn_dtree[b*2]=0;for(b=0;b<fe;b++)i.bl_tree[b*2]=0;i.dyn_ltree[M*2]=1,i.opt_len=i.static_len=0,i.last_lit=i.matches=0}function je(i){i.bi_valid>8?pe(i,i.bi_buf):i.bi_valid>0&&(i.pending_buf[i.pending++]=i.bi_buf),i.bi_buf=0,i.bi_valid=0}function Re(i,b,y,N){je(i),N&&(pe(i,y),pe(i,~y)),p.arraySet(i.pending_buf,i.window,b,y,i.pending),i.pending+=y}function Ce(i,b,y,N){var f=b*2,v=y*2;return i[f]<i[v]||i[f]===i[v]&&N[b]<=N[y]}function oe(i,b,y){for(var N=i.heap[y],f=y<<1;f<=i.heap_len&&(f<i.heap_len&&Ce(b,i.heap[f+1],i.heap[f],i.depth)&&f++,!Ce(b,N,i.heap[f],i.depth));)i.heap[y]=i.heap[f],y=f,f<<=1;i.heap[y]=N}function $(i,b,y){var N,f,v=0,t,x;if(i.last_lit!==0)do N=i.pending_buf[i.d_buf+v*2]<<8|i.pending_buf[i.d_buf+v*2+1],f=i.pending_buf[i.l_buf+v],v++,N===0?ue(i,f,b):(t=ke[f],ue(i,t+S+1,b),x=G[t],x!==0&&(f-=K[t],ie(i,f,x)),N--,t=Se(N),ue(i,t,y),x=Q[t],x!==0&&(N-=ve[t],ie(i,N,x)));while(v<i.last_lit);ue(i,M,b)}function Le(i,b){var y=b.dyn_tree,N=b.stat_desc.static_tree,f=b.stat_desc.has_stree,v=b.stat_desc.elems,t,x,H=-1,e;for(i.heap_len=0,i.heap_max=I,t=0;t<v;t++)y[t*2]!==0?(i.heap[++i.heap_len]=H=t,i.depth[t]=0):y[t*2+1]=0;for(;i.heap_len<2;)e=i.heap[++i.heap_len]=H<2?++H:0,y[e*2]=1,i.depth[e]=0,i.opt_len--,f&&(i.static_len-=N[e*2+1]);for(b.max_code=H,t=i.heap_len>>1;t>=1;t--)oe(i,y,t);e=v;do t=i.heap[1],i.heap[1]=i.heap[i.heap_len--],oe(i,y,1),x=i.heap[1],i.heap[--i.heap_max]=t,i.heap[--i.heap_max]=x,y[e*2]=y[t*2]+y[x*2],i.depth[e]=(i.depth[t]>=i.depth[x]?i.depth[t]:i.depth[x])+1,y[t*2+1]=y[x*2+1]=e,i.heap[1]=e++,oe(i,y,1);while(i.heap_len>=2);i.heap[--i.heap_max]=i.heap[1],Oe(i,b),Ne(y,H,i.bl_count)}function Ge(i,b,y){var N,f=-1,v,t=b[0*2+1],x=0,H=7,e=4;for(t===0&&(H=138,e=3),b[(y+1)*2+1]=65535,N=0;N<=y;N++)v=t,t=b[(N+1)*2+1],!(++x<H&&v===t)&&(x<e?i.bl_tree[v*2]+=x:v!==0?(v!==f&&i.bl_tree[v*2]++,i.bl_tree[Y*2]++):x<=10?i.bl_tree[F*2]++:i.bl_tree[C*2]++,x=0,f=v,t===0?(H=138,e=3):v===t?(H=6,e=3):(H=7,e=4))}function He(i,b,y){var N,f=-1,v,t=b[0*2+1],x=0,H=7,e=4;for(t===0&&(H=138,e=3),N=0;N<=y;N++)if(v=t,t=b[(N+1)*2+1],!(++x<H&&v===t)){if(x<e)do ue(i,v,i.bl_tree);while(--x!==0);else v!==0?(v!==f&&(ue(i,v,i.bl_tree),x--),ue(i,Y,i.bl_tree),ie(i,x-3,2)):x<=10?(ue(i,F,i.bl_tree),ie(i,x-3,3)):(ue(i,C,i.bl_tree),ie(i,x-11,7));x=0,f=v,t===0?(H=138,e=3):v===t?(H=6,e=3):(H=7,e=4)}}function Ze(i){var b;for(Ge(i,i.dyn_ltree,i.l_desc.max_code),Ge(i,i.dyn_dtree,i.d_desc.max_code),Le(i,i.bl_desc),b=fe-1;b>=3&&i.bl_tree[te[b]*2+1]===0;b--);return i.opt_len+=3*(b+1)+5+5+4,b}function Xe(i,b,y,N){var f;for(ie(i,b-257,5),ie(i,y-1,5),ie(i,N-4,4),f=0;f<N;f++)ie(i,i.bl_tree[te[f]*2+1],3);He(i,i.dyn_ltree,b-1),He(i,i.dyn_dtree,y-1)}function Ke(i){var b=4093624447,y;for(y=0;y<=31;y++,b>>>=1)if(b&1&&i.dyn_ltree[y*2]!==0)return k;if(i.dyn_ltree[9*2]!==0||i.dyn_ltree[10*2]!==0||i.dyn_ltree[13*2]!==0)return h;for(y=32;y<S;y++)if(i.dyn_ltree[y*2]!==0)return h;return k}var Ie=!1;function $e(i){Ie||(ne(),Ie=!0),i.l_desc=new de(i.dyn_ltree,De),i.d_desc=new de(i.dyn_dtree,Te),i.bl_desc=new de(i.bl_tree,be),i.bi_buf=0,i.bi_valid=0,ze(i)}function Ye(i,b,y,N){ie(i,(l<<1)+(N?1:0),3),Re(i,b,y,!0)}function ye(i){ie(i,c<<1,3),ue(i,M,P),me(i)}function Fe(i,b,y,N){var f,v,t=0;i.level>0?(i.strm.data_type===o&&(i.strm.data_type=Ke(i)),Le(i,i.l_desc),Le(i,i.d_desc),t=Ze(i),f=i.opt_len+3+7>>>3,v=i.static_len+3+7>>>3,v<=f&&(f=v)):f=v=y+5,y+4<=f&&b!==-1?Ye(i,b,y,N):i.strategy===E||v===f?(ie(i,(c<<1)+(N?1:0),3),$(i,P,ae)):(ie(i,(r<<1)+(N?1:0),3),Xe(i,i.l_desc.max_code+1,i.d_desc.max_code+1,t+1),$(i,i.dyn_ltree,i.dyn_dtree)),ze(i),N&&je(i)}function Ve(i,b,y){return i.pending_buf[i.d_buf+i.last_lit*2]=b>>>8&255,i.pending_buf[i.d_buf+i.last_lit*2+1]=b&255,i.pending_buf[i.l_buf+i.last_lit]=y&255,i.last_lit++,b===0?i.dyn_ltree[y*2]++:(i.matches++,b--,i.dyn_ltree[(ke[y]+S+1)*2]++,i.dyn_dtree[Se(b)*2]++),i.last_lit===i.lit_bufsize-1}w._tr_init=$e,w._tr_stored_block=Ye,w._tr_flush_block=Fe,w._tr_tally=Ve,w._tr_align=ye},{"../utils/common":5}],12:[function(A,O,w){"use strict";function p(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}O.exports=p},{}]},{},[3])(3)})});var ht=et((ot,at)=>{(function(ee){if(typeof ot=="object"&&typeof at!="undefined")at.exports=ee();else if(typeof define=="function"&&define.amd)define([],ee);else{var J;typeof window!="undefined"?J=window:typeof global!="undefined"?J=global:typeof self!="undefined"?J=self:J=this,J.plantumlEncoder=ee()}})(function(){var ee,J,ce;return function(){function A(O,w,p){function E(o,u){if(!w[o]){if(!O[o]){var l=typeof require=="function"&&require;if(!u&&l)return l(o,!0);if(k)return k(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var r=w[o]={exports:{}};O[o][0].call(r.exports,function(g){var m=O[o][1][g];return E(m||g)},r,r.exports,A,O,w,p)}return w[o].exports}for(var k=typeof require=="function"&&require,h=0;h<p.length;h++)E(p[h]);return E}return A}()({1:[function(A,O,w){"use strict";var p=A("pako/lib/inflate.js");O.exports=function(E){return p.inflateRaw(E,{to:"string"})}},{"pako/lib/inflate.js":4}],2:[function(A,O,w){"use strict";function p(k){var h=k.charCodeAt(0);return k==="_"?63:k==="-"?62:h>=97?h-61:h>=65?h-55:h>=48?h-48:"?"}function E(k){var h=p(k[0]),o=p(k[1]),u=p(k[2]),l=p(k[3]),c=h<<2|o>>4&63,r=o<<4&240|u>>2&15,g=u<<6&192|l&63;return[c,r,g]}O.exports=function(k){var h="",o=0;for(o=0;o<k.length;o+=4){var u=E(k.substring(o,o+4));h=h+String.fromCharCode(u[0]),h=h+String.fromCharCode(u[1]),h=h+String.fromCharCode(u[2])}return h}},{}],3:[function(A,O,w){"use strict";var p=A("./inflate"),E=A("./decode64");O.exports.decode=function(k){var h=E(k);return p(h)}},{"./decode64":2,"./inflate":1}],4:[function(A,O,w){"use strict";var p=A("./zlib/inflate"),E=A("./utils/common"),k=A("./utils/strings"),h=A("./zlib/constants"),o=A("./zlib/messages"),u=A("./zlib/zstream"),l=A("./zlib/gzheader"),c=Object.prototype.toString;function r(T){if(!(this instanceof r))return new r(T);this.options=E.assign({chunkSize:16384,windowBits:0,to:""},T||{});var S=this.options;S.raw&&S.windowBits>=0&&S.windowBits<16&&(S.windowBits=-S.windowBits,S.windowBits===0&&(S.windowBits=-15)),S.windowBits>=0&&S.windowBits<16&&!(T&&T.windowBits)&&(S.windowBits+=32),S.windowBits>15&&S.windowBits<48&&(S.windowBits&15||(S.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var z=p.inflateInit2(this.strm,S.windowBits);if(z!==h.Z_OK)throw new Error(o[z]);if(this.header=new l,p.inflateGetHeader(this.strm,this.header),S.dictionary&&(typeof S.dictionary=="string"?S.dictionary=k.string2buf(S.dictionary):c.call(S.dictionary)==="[object ArrayBuffer]"&&(S.dictionary=new Uint8Array(S.dictionary)),S.raw&&(z=p.inflateSetDictionary(this.strm,S.dictionary),z!==h.Z_OK)))throw new Error(o[z])}r.prototype.push=function(T,S){var z=this.strm,U=this.options.chunkSize,fe=this.options.dictionary,I,B,j,L,M,Y=!1;if(this.ended)return!1;B=S===~~S?S:S===!0?h.Z_FINISH:h.Z_NO_FLUSH,typeof T=="string"?z.input=k.binstring2buf(T):c.call(T)==="[object ArrayBuffer]"?z.input=new Uint8Array(T):z.input=T,z.next_in=0,z.avail_in=z.input.length;do{if(z.avail_out===0&&(z.output=new E.Buf8(U),z.next_out=0,z.avail_out=U),I=p.inflate(z,h.Z_NO_FLUSH),I===h.Z_NEED_DICT&&fe&&(I=p.inflateSetDictionary(this.strm,fe)),I===h.Z_BUF_ERROR&&Y===!0&&(I=h.Z_OK,Y=!1),I!==h.Z_STREAM_END&&I!==h.Z_OK)return this.onEnd(I),this.ended=!0,!1;z.next_out&&(z.avail_out===0||I===h.Z_STREAM_END||z.avail_in===0&&(B===h.Z_FINISH||B===h.Z_SYNC_FLUSH))&&(this.options.to==="string"?(j=k.utf8border(z.output,z.next_out),L=z.next_out-j,M=k.buf2string(z.output,j),z.next_out=L,z.avail_out=U-L,L&&E.arraySet(z.output,z.output,j,L,0),this.onData(M)):this.onData(E.shrinkBuf(z.output,z.next_out))),z.avail_in===0&&z.avail_out===0&&(Y=!0)}while((z.avail_in>0||z.avail_out===0)&&I!==h.Z_STREAM_END);return I===h.Z_STREAM_END&&(B=h.Z_FINISH),B===h.Z_FINISH?(I=p.inflateEnd(this.strm),this.onEnd(I),this.ended=!0,I===h.Z_OK):(B===h.Z_SYNC_FLUSH&&(this.onEnd(h.Z_OK),z.avail_out=0),!0)},r.prototype.onData=function(T){this.chunks.push(T)},r.prototype.onEnd=function(T){T===h.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=E.flattenChunks(this.chunks)),this.chunks=[],this.err=T,this.msg=this.strm.msg};function g(T,S){var z=new r(S);if(z.push(T,!0),z.err)throw z.msg||o[z.err];return z.result}function m(T,S){return S=S||{},S.raw=!0,g(T,S)}w.Inflate=r,w.inflate=g,w.inflateRaw=m,w.ungzip=g},{"./utils/common":5,"./utils/strings":6,"./zlib/constants":8,"./zlib/gzheader":10,"./zlib/inflate":12,"./zlib/messages":14,"./zlib/zstream":15}],5:[function(A,O,w){"use strict";var p=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Int32Array!="undefined";function E(o,u){return Object.prototype.hasOwnProperty.call(o,u)}w.assign=function(o){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var l=u.shift();if(l){if(typeof l!="object")throw new TypeError(l+"must be non-object");for(var c in l)E(l,c)&&(o[c]=l[c])}}return o},w.shrinkBuf=function(o,u){return o.length===u?o:o.subarray?o.subarray(0,u):(o.length=u,o)};var k={arraySet:function(o,u,l,c,r){if(u.subarray&&o.subarray){o.set(u.subarray(l,l+c),r);return}for(var g=0;g<c;g++)o[r+g]=u[l+g]},flattenChunks:function(o){var u,l,c,r,g,m;for(c=0,u=0,l=o.length;u<l;u++)c+=o[u].length;for(m=new Uint8Array(c),r=0,u=0,l=o.length;u<l;u++)g=o[u],m.set(g,r),r+=g.length;return m}},h={arraySet:function(o,u,l,c,r){for(var g=0;g<c;g++)o[r+g]=u[l+g]},flattenChunks:function(o){return[].concat.apply([],o)}};w.setTyped=function(o){o?(w.Buf8=Uint8Array,w.Buf16=Uint16Array,w.Buf32=Int32Array,w.assign(w,k)):(w.Buf8=Array,w.Buf16=Array,w.Buf32=Array,w.assign(w,h))},w.setTyped(p)},{}],6:[function(A,O,w){"use strict";var p=A("./common"),E=!0,k=!0;try{String.fromCharCode.apply(null,[0])}catch(l){E=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(l){k=!1}for(var h=new p.Buf8(256),o=0;o<256;o++)h[o]=o>=252?6:o>=248?5:o>=240?4:o>=224?3:o>=192?2:1;h[254]=h[254]=1,w.string2buf=function(l){var c,r,g,m,T,S=l.length,z=0;for(m=0;m<S;m++)r=l.charCodeAt(m),(r&64512)===55296&&m+1<S&&(g=l.charCodeAt(m+1),(g&64512)===56320&&(r=65536+(r-55296<<10)+(g-56320),m++)),z+=r<128?1:r<2048?2:r<65536?3:4;for(c=new p.Buf8(z),T=0,m=0;T<z;m++)r=l.charCodeAt(m),(r&64512)===55296&&m+1<S&&(g=l.charCodeAt(m+1),(g&64512)===56320&&(r=65536+(r-55296<<10)+(g-56320),m++)),r<128?c[T++]=r:r<2048?(c[T++]=192|r>>>6,c[T++]=128|r&63):r<65536?(c[T++]=224|r>>>12,c[T++]=128|r>>>6&63,c[T++]=128|r&63):(c[T++]=240|r>>>18,c[T++]=128|r>>>12&63,c[T++]=128|r>>>6&63,c[T++]=128|r&63);return c};function u(l,c){if(c<65534&&(l.subarray&&k||!l.subarray&&E))return String.fromCharCode.apply(null,p.shrinkBuf(l,c));for(var r="",g=0;g<c;g++)r+=String.fromCharCode(l[g]);return r}w.buf2binstring=function(l){return u(l,l.length)},w.binstring2buf=function(l){for(var c=new p.Buf8(l.length),r=0,g=c.length;r<g;r++)c[r]=l.charCodeAt(r);return c},w.buf2string=function(l,c){var r,g,m,T,S=c||l.length,z=new Array(S*2);for(g=0,r=0;r<S;){if(m=l[r++],m<128){z[g++]=m;continue}if(T=h[m],T>4){z[g++]=65533,r+=T-1;continue}for(m&=T===2?31:T===3?15:7;T>1&&r<S;)m=m<<6|l[r++]&63,T--;if(T>1){z[g++]=65533;continue}m<65536?z[g++]=m:(m-=65536,z[g++]=55296|m>>10&1023,z[g++]=56320|m&1023)}return u(z,g)},w.utf8border=function(l,c){var r;for(c=c||l.length,c>l.length&&(c=l.length),r=c-1;r>=0&&(l[r]&192)===128;)r--;return r<0||r===0?c:r+h[l[r]]>c?r:c}},{"./common":5}],7:[function(A,O,w){"use strict";function p(E,k,h,o){for(var u=E&65535|0,l=E>>>16&65535|0,c=0;h!==0;){c=h>2e3?2e3:h,h-=c;do u=u+k[o++]|0,l=l+u|0;while(--c);u%=65521,l%=65521}return u|l<<16|0}O.exports=p},{}],8:[function(A,O,w){"use strict";O.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],9:[function(A,O,w){"use strict";function p(){for(var h,o=[],u=0;u<256;u++){h=u;for(var l=0;l<8;l++)h=h&1?3988292384^h>>>1:h>>>1;o[u]=h}return o}var E=p();function k(h,o,u,l){var c=E,r=l+u;h^=-1;for(var g=l;g<r;g++)h=h>>>8^c[(h^o[g])&255];return h^-1}O.exports=k},{}],10:[function(A,O,w){"use strict";function p(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}O.exports=p},{}],11:[function(A,O,w){"use strict";var p=30,E=12;O.exports=function(h,o){var u,l,c,r,g,m,T,S,z,U,fe,I,B,j,L,M,Y,F,C,G,Q,X,te,re,P;u=h.state,l=h.next_in,re=h.input,c=l+(h.avail_in-5),r=h.next_out,P=h.output,g=r-(o-h.avail_out),m=r+(h.avail_out-257),T=u.dmax,S=u.wsize,z=u.whave,U=u.wnext,fe=u.window,I=u.hold,B=u.bits,j=u.lencode,L=u.distcode,M=(1<<u.lenbits)-1,Y=(1<<u.distbits)-1;e:do{B<15&&(I+=re[l++]<<B,B+=8,I+=re[l++]<<B,B+=8),F=j[I&M];t:for(;;){if(C=F>>>24,I>>>=C,B-=C,C=F>>>16&255,C===0)P[r++]=F&65535;else if(C&16){G=F&65535,C&=15,C&&(B<C&&(I+=re[l++]<<B,B+=8),G+=I&(1<<C)-1,I>>>=C,B-=C),B<15&&(I+=re[l++]<<B,B+=8,I+=re[l++]<<B,B+=8),F=L[I&Y];a:for(;;){if(C=F>>>24,I>>>=C,B-=C,C=F>>>16&255,C&16){if(Q=F&65535,C&=15,B<C&&(I+=re[l++]<<B,B+=8,B<C&&(I+=re[l++]<<B,B+=8)),Q+=I&(1<<C)-1,Q>T){h.msg="invalid distance too far back",u.mode=p;break e}if(I>>>=C,B-=C,C=r-g,Q>C){if(C=Q-C,C>z&&u.sane){h.msg="invalid distance too far back",u.mode=p;break e}if(X=0,te=fe,U===0){if(X+=S-C,C<G){G-=C;do P[r++]=fe[X++];while(--C);X=r-Q,te=P}}else if(U<C){if(X+=S+U-C,C-=U,C<G){G-=C;do P[r++]=fe[X++];while(--C);if(X=0,U<G){C=U,G-=C;do P[r++]=fe[X++];while(--C);X=r-Q,te=P}}}else if(X+=U-C,C<G){G-=C;do P[r++]=fe[X++];while(--C);X=r-Q,te=P}for(;G>2;)P[r++]=te[X++],P[r++]=te[X++],P[r++]=te[X++],G-=3;G&&(P[r++]=te[X++],G>1&&(P[r++]=te[X++]))}else{X=r-Q;do P[r++]=P[X++],P[r++]=P[X++],P[r++]=P[X++],G-=3;while(G>2);G&&(P[r++]=P[X++],G>1&&(P[r++]=P[X++]))}}else if(C&64){h.msg="invalid distance code",u.mode=p;break e}else{F=L[(F&65535)+(I&(1<<C)-1)];continue a}break}}else if(C&64)if(C&32){u.mode=E;break e}else{h.msg="invalid literal/length code",u.mode=p;break e}else{F=j[(F&65535)+(I&(1<<C)-1)];continue t}break}}while(l<c&&r<m);G=B>>3,l-=G,B-=G<<3,I&=(1<<B)-1,h.next_in=l,h.next_out=r,h.avail_in=l<c?5+(c-l):5-(l-c),h.avail_out=r<m?257+(m-r):257-(r-m),u.hold=I,u.bits=B}},{}],12:[function(A,O,w){"use strict";var p=A("../utils/common"),E=A("./adler32"),k=A("./crc32"),h=A("./inffast"),o=A("./inftrees"),u=0,l=1,c=2,r=4,g=5,m=6,T=0,S=1,z=2,U=-2,fe=-3,I=-4,B=-5,j=8,L=1,M=2,Y=3,F=4,C=5,G=6,Q=7,X=8,te=9,re=10,P=11,ae=12,se=13,ke=14,K=15,ve=16,le=17,De=18,Te=19,be=20,de=21,Se=22,pe=23,ie=24,ue=25,q=26,me=27,Oe=28,Ne=29,ne=30,ze=31,je=32,Re=852,Ce=592,oe=15,$=oe;function Le(f){return(f>>>24&255)+(f>>>8&65280)+((f&65280)<<8)+((f&255)<<24)}function Ge(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new p.Buf16(320),this.work=new p.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function He(f){var v;return!f||!f.state?U:(v=f.state,f.total_in=f.total_out=v.total=0,f.msg="",v.wrap&&(f.adler=v.wrap&1),v.mode=L,v.last=0,v.havedict=0,v.dmax=32768,v.head=null,v.hold=0,v.bits=0,v.lencode=v.lendyn=new p.Buf32(Re),v.distcode=v.distdyn=new p.Buf32(Ce),v.sane=1,v.back=-1,T)}function Ze(f){var v;return!f||!f.state?U:(v=f.state,v.wsize=0,v.whave=0,v.wnext=0,He(f))}function Xe(f,v){var t,x;return!f||!f.state||(x=f.state,v<0?(t=0,v=-v):(t=(v>>4)+1,v<48&&(v&=15)),v&&(v<8||v>15))?U:(x.window!==null&&x.wbits!==v&&(x.window=null),x.wrap=t,x.wbits=v,Ze(f))}function Ke(f,v){var t,x;return f?(x=new Ge,f.state=x,x.window=null,t=Xe(f,v),t!==T&&(f.state=null),t):U}function Ie(f){return Ke(f,$)}var $e=!0,Ye,ye;function Fe(f){if($e){var v;for(Ye=new p.Buf32(512),ye=new p.Buf32(32),v=0;v<144;)f.lens[v++]=8;for(;v<256;)f.lens[v++]=9;for(;v<280;)f.lens[v++]=7;for(;v<288;)f.lens[v++]=8;for(o(l,f.lens,0,288,Ye,0,f.work,{bits:9}),v=0;v<32;)f.lens[v++]=5;o(c,f.lens,0,32,ye,0,f.work,{bits:5}),$e=!1}f.lencode=Ye,f.lenbits=9,f.distcode=ye,f.distbits=5}function Ve(f,v,t,x){var H,e=f.state;return e.window===null&&(e.wsize=1<<e.wbits,e.wnext=0,e.whave=0,e.window=new p.Buf8(e.wsize)),x>=e.wsize?(p.arraySet(e.window,v,t-e.wsize,e.wsize,0),e.wnext=0,e.whave=e.wsize):(H=e.wsize-e.wnext,H>x&&(H=x),p.arraySet(e.window,v,t-x,H,e.wnext),x-=H,x?(p.arraySet(e.window,v,t-x,x,0),e.wnext=x,e.whave=e.wsize):(e.wnext+=H,e.wnext===e.wsize&&(e.wnext=0),e.whave<e.wsize&&(e.whave+=H))),0}function i(f,v){var t,x,H,e,_,s,a,n,d,Z,D,R,V,Me,_e=0,W,we,Ee,Ae,We,Je,ge,Be,xe=new p.Buf8(4),Pe,Ue,nt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!f||!f.state||!f.output||!f.input&&f.avail_in!==0)return U;t=f.state,t.mode===ae&&(t.mode=se),_=f.next_out,H=f.output,a=f.avail_out,e=f.next_in,x=f.input,s=f.avail_in,n=t.hold,d=t.bits,Z=s,D=a,Be=T;e:for(;;)switch(t.mode){case L:if(t.wrap===0){t.mode=se;break}for(;d<16;){if(s===0)break e;s--,n+=x[e++]<<d,d+=8}if(t.wrap&2&&n===35615){t.check=0,xe[0]=n&255,xe[1]=n>>>8&255,t.check=k(t.check,xe,2,0),n=0,d=0,t.mode=M;break}if(t.flags=0,t.head&&(t.head.done=!1),!(t.wrap&1)||(((n&255)<<8)+(n>>8))%31){f.msg="incorrect header check",t.mode=ne;break}if((n&15)!==j){f.msg="unknown compression method",t.mode=ne;break}if(n>>>=4,d-=4,ge=(n&15)+8,t.wbits===0)t.wbits=ge;else if(ge>t.wbits){f.msg="invalid window size",t.mode=ne;break}t.dmax=1<<ge,f.adler=t.check=1,t.mode=n&512?re:ae,n=0,d=0;break;case M:for(;d<16;){if(s===0)break e;s--,n+=x[e++]<<d,d+=8}if(t.flags=n,(t.flags&255)!==j){f.msg="unknown compression method",t.mode=ne;break}if(t.flags&57344){f.msg="unknown header flags set",t.mode=ne;break}t.head&&(t.head.text=n>>8&1),t.flags&512&&(xe[0]=n&255,xe[1]=n>>>8&255,t.check=k(t.check,xe,2,0)),n=0,d=0,t.mode=Y;case Y:for(;d<32;){if(s===0)break e;s--,n+=x[e++]<<d,d+=8}t.head&&(t.head.time=n),t.flags&512&&(xe[0]=n&255,xe[1]=n>>>8&255,xe[2]=n>>>16&255,xe[3]=n>>>24&255,t.check=k(t.check,xe,4,0)),n=0,d=0,t.mode=F;case F:for(;d<16;){if(s===0)break e;s--,n+=x[e++]<<d,d+=8}t.head&&(t.head.xflags=n&255,t.head.os=n>>8),t.flags&512&&(xe[0]=n&255,xe[1]=n>>>8&255,t.check=k(t.check,xe,2,0)),n=0,d=0,t.mode=C;case C:if(t.flags&1024){for(;d<16;){if(s===0)break e;s--,n+=x[e++]<<d,d+=8}t.length=n,t.head&&(t.head.extra_len=n),t.flags&512&&(xe[0]=n&255,xe[1]=n>>>8&255,t.check=k(t.check,xe,2,0)),n=0,d=0}else t.head&&(t.head.extra=null);t.mode=G;case G:if(t.flags&1024&&(R=t.length,R>s&&(R=s),R&&(t.head&&(ge=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Array(t.head.extra_len)),p.arraySet(t.head.extra,x,e,R,ge)),t.flags&512&&(t.check=k(t.check,x,R,e)),s-=R,e+=R,t.length-=R),t.length))break e;t.length=0,t.mode=Q;case Q:if(t.flags&2048){if(s===0)break e;R=0;do ge=x[e+R++],t.head&&ge&&t.length<65536&&(t.head.name+=String.fromCharCode(ge));while(ge&&R<s);if(t.flags&512&&(t.check=k(t.check,x,R,e)),s-=R,e+=R,ge)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=X;case X:if(t.flags&4096){if(s===0)break e;R=0;do ge=x[e+R++],t.head&&ge&&t.length<65536&&(t.head.comment+=String.fromCharCode(ge));while(ge&&R<s);if(t.flags&512&&(t.check=k(t.check,x,R,e)),s-=R,e+=R,ge)break e}else t.head&&(t.head.comment=null);t.mode=te;case te:if(t.flags&512){for(;d<16;){if(s===0)break e;s--,n+=x[e++]<<d,d+=8}if(n!==(t.check&65535)){f.msg="header crc mismatch",t.mode=ne;break}n=0,d=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),f.adler=t.check=0,t.mode=ae;break;case re:for(;d<32;){if(s===0)break e;s--,n+=x[e++]<<d,d+=8}f.adler=t.check=Le(n),n=0,d=0,t.mode=P;case P:if(t.havedict===0)return f.next_out=_,f.avail_out=a,f.next_in=e,f.avail_in=s,t.hold=n,t.bits=d,z;f.adler=t.check=1,t.mode=ae;case ae:if(v===g||v===m)break e;case se:if(t.last){n>>>=d&7,d-=d&7,t.mode=me;break}for(;d<3;){if(s===0)break e;s--,n+=x[e++]<<d,d+=8}switch(t.last=n&1,n>>>=1,d-=1,n&3){case 0:t.mode=ke;break;case 1:if(Fe(t),t.mode=be,v===m){n>>>=2,d-=2;break e}break;case 2:t.mode=le;break;case 3:f.msg="invalid block type",t.mode=ne}n>>>=2,d-=2;break;case ke:for(n>>>=d&7,d-=d&7;d<32;){if(s===0)break e;s--,n+=x[e++]<<d,d+=8}if((n&65535)!==(n>>>16^65535)){f.msg="invalid stored block lengths",t.mode=ne;break}if(t.length=n&65535,n=0,d=0,t.mode=K,v===m)break e;case K:t.mode=ve;case ve:if(R=t.length,R){if(R>s&&(R=s),R>a&&(R=a),R===0)break e;p.arraySet(H,x,e,R,_),s-=R,e+=R,a-=R,_+=R,t.length-=R;break}t.mode=ae;break;case le:for(;d<14;){if(s===0)break e;s--,n+=x[e++]<<d,d+=8}if(t.nlen=(n&31)+257,n>>>=5,d-=5,t.ndist=(n&31)+1,n>>>=5,d-=5,t.ncode=(n&15)+4,n>>>=4,d-=4,t.nlen>286||t.ndist>30){f.msg="too many length or distance symbols",t.mode=ne;break}t.have=0,t.mode=De;case De:for(;t.have<t.ncode;){for(;d<3;){if(s===0)break e;s--,n+=x[e++]<<d,d+=8}t.lens[nt[t.have++]]=n&7,n>>>=3,d-=3}for(;t.have<19;)t.lens[nt[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,Pe={bits:t.lenbits},Be=o(u,t.lens,0,19,t.lencode,0,t.work,Pe),t.lenbits=Pe.bits,Be){f.msg="invalid code lengths set",t.mode=ne;break}t.have=0,t.mode=Te;case Te:for(;t.have<t.nlen+t.ndist;){for(;_e=t.lencode[n&(1<<t.lenbits)-1],W=_e>>>24,we=_e>>>16&255,Ee=_e&65535,!(W<=d);){if(s===0)break e;s--,n+=x[e++]<<d,d+=8}if(Ee<16)n>>>=W,d-=W,t.lens[t.have++]=Ee;else{if(Ee===16){for(Ue=W+2;d<Ue;){if(s===0)break e;s--,n+=x[e++]<<d,d+=8}if(n>>>=W,d-=W,t.have===0){f.msg="invalid bit length repeat",t.mode=ne;break}ge=t.lens[t.have-1],R=3+(n&3),n>>>=2,d-=2}else if(Ee===17){for(Ue=W+3;d<Ue;){if(s===0)break e;s--,n+=x[e++]<<d,d+=8}n>>>=W,d-=W,ge=0,R=3+(n&7),n>>>=3,d-=3}else{for(Ue=W+7;d<Ue;){if(s===0)break e;s--,n+=x[e++]<<d,d+=8}n>>>=W,d-=W,ge=0,R=11+(n&127),n>>>=7,d-=7}if(t.have+R>t.nlen+t.ndist){f.msg="invalid bit length repeat",t.mode=ne;break}for(;R--;)t.lens[t.have++]=ge}}if(t.mode===ne)break;if(t.lens[256]===0){f.msg="invalid code -- missing end-of-block",t.mode=ne;break}if(t.lenbits=9,Pe={bits:t.lenbits},Be=o(l,t.lens,0,t.nlen,t.lencode,0,t.work,Pe),t.lenbits=Pe.bits,Be){f.msg="invalid literal/lengths set",t.mode=ne;break}if(t.distbits=6,t.distcode=t.distdyn,Pe={bits:t.distbits},Be=o(c,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,Pe),t.distbits=Pe.bits,Be){f.msg="invalid distances set",t.mode=ne;break}if(t.mode=be,v===m)break e;case be:t.mode=de;case de:if(s>=6&&a>=258){f.next_out=_,f.avail_out=a,f.next_in=e,f.avail_in=s,t.hold=n,t.bits=d,h(f,D),_=f.next_out,H=f.output,a=f.avail_out,e=f.next_in,x=f.input,s=f.avail_in,n=t.hold,d=t.bits,t.mode===ae&&(t.back=-1);break}for(t.back=0;_e=t.lencode[n&(1<<t.lenbits)-1],W=_e>>>24,we=_e>>>16&255,Ee=_e&65535,!(W<=d);){if(s===0)break e;s--,n+=x[e++]<<d,d+=8}if(we&&!(we&240)){for(Ae=W,We=we,Je=Ee;_e=t.lencode[Je+((n&(1<<Ae+We)-1)>>Ae)],W=_e>>>24,we=_e>>>16&255,Ee=_e&65535,!(Ae+W<=d);){if(s===0)break e;s--,n+=x[e++]<<d,d+=8}n>>>=Ae,d-=Ae,t.back+=Ae}if(n>>>=W,d-=W,t.back+=W,t.length=Ee,we===0){t.mode=q;break}if(we&32){t.back=-1,t.mode=ae;break}if(we&64){f.msg="invalid literal/length code",t.mode=ne;break}t.extra=we&15,t.mode=Se;case Se:if(t.extra){for(Ue=t.extra;d<Ue;){if(s===0)break e;s--,n+=x[e++]<<d,d+=8}t.length+=n&(1<<t.extra)-1,n>>>=t.extra,d-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=pe;case pe:for(;_e=t.distcode[n&(1<<t.distbits)-1],W=_e>>>24,we=_e>>>16&255,Ee=_e&65535,!(W<=d);){if(s===0)break e;s--,n+=x[e++]<<d,d+=8}if(!(we&240)){for(Ae=W,We=we,Je=Ee;_e=t.distcode[Je+((n&(1<<Ae+We)-1)>>Ae)],W=_e>>>24,we=_e>>>16&255,Ee=_e&65535,!(Ae+W<=d);){if(s===0)break e;s--,n+=x[e++]<<d,d+=8}n>>>=Ae,d-=Ae,t.back+=Ae}if(n>>>=W,d-=W,t.back+=W,we&64){f.msg="invalid distance code",t.mode=ne;break}t.offset=Ee,t.extra=we&15,t.mode=ie;case ie:if(t.extra){for(Ue=t.extra;d<Ue;){if(s===0)break e;s--,n+=x[e++]<<d,d+=8}t.offset+=n&(1<<t.extra)-1,n>>>=t.extra,d-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){f.msg="invalid distance too far back",t.mode=ne;break}t.mode=ue;case ue:if(a===0)break e;if(R=D-a,t.offset>R){if(R=t.offset-R,R>t.whave&&t.sane){f.msg="invalid distance too far back",t.mode=ne;break}R>t.wnext?(R-=t.wnext,V=t.wsize-R):V=t.wnext-R,R>t.length&&(R=t.length),Me=t.window}else Me=H,V=_-t.offset,R=t.length;R>a&&(R=a),a-=R,t.length-=R;do H[_++]=Me[V++];while(--R);t.length===0&&(t.mode=de);break;case q:if(a===0)break e;H[_++]=t.length,a--,t.mode=de;break;case me:if(t.wrap){for(;d<32;){if(s===0)break e;s--,n|=x[e++]<<d,d+=8}if(D-=a,f.total_out+=D,t.total+=D,D&&(f.adler=t.check=t.flags?k(t.check,H,D,_-D):E(t.check,H,D,_-D)),D=a,(t.flags?n:Le(n))!==t.check){f.msg="incorrect data check",t.mode=ne;break}n=0,d=0}t.mode=Oe;case Oe:if(t.wrap&&t.flags){for(;d<32;){if(s===0)break e;s--,n+=x[e++]<<d,d+=8}if(n!==(t.total&4294967295)){f.msg="incorrect length check",t.mode=ne;break}n=0,d=0}t.mode=Ne;case Ne:Be=S;break e;case ne:Be=fe;break e;case ze:return I;case je:default:return U}return f.next_out=_,f.avail_out=a,f.next_in=e,f.avail_in=s,t.hold=n,t.bits=d,(t.wsize||D!==f.avail_out&&t.mode<ne&&(t.mode<me||v!==r))&&Ve(f,f.output,f.next_out,D-f.avail_out)?(t.mode=ze,I):(Z-=f.avail_in,D-=f.avail_out,f.total_in+=Z,f.total_out+=D,t.total+=D,t.wrap&&D&&(f.adler=t.check=t.flags?k(t.check,H,D,f.next_out-D):E(t.check,H,D,f.next_out-D)),f.data_type=t.bits+(t.last?64:0)+(t.mode===ae?128:0)+(t.mode===be||t.mode===K?256:0),(Z===0&&D===0||v===r)&&Be===T&&(Be=B),Be)}function b(f){if(!f||!f.state)return U;var v=f.state;return v.window&&(v.window=null),f.state=null,T}function y(f,v){var t;return!f||!f.state||(t=f.state,!(t.wrap&2))?U:(t.head=v,v.done=!1,T)}function N(f,v){var t=v.length,x,H,e;return!f||!f.state||(x=f.state,x.wrap!==0&&x.mode!==P)?U:x.mode===P&&(H=1,H=E(H,v,t,0),H!==x.check)?fe:(e=Ve(f,v,t,t),e?(x.mode=ze,I):(x.havedict=1,T))}w.inflateReset=Ze,w.inflateReset2=Xe,w.inflateResetKeep=He,w.inflateInit=Ie,w.inflateInit2=Ke,w.inflate=i,w.inflateEnd=b,w.inflateGetHeader=y,w.inflateSetDictionary=N,w.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":5,"./adler32":7,"./crc32":9,"./inffast":11,"./inftrees":13}],13:[function(A,O,w){"use strict";var p=A("../utils/common"),E=15,k=852,h=592,o=0,u=1,l=2,c=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],r=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],g=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],m=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];O.exports=function(S,z,U,fe,I,B,j,L){var M=L.bits,Y=0,F=0,C=0,G=0,Q=0,X=0,te=0,re=0,P=0,ae=0,se,ke,K,ve,le,De=null,Te=0,be,de=new p.Buf16(E+1),Se=new p.Buf16(E+1),pe=null,ie=0,ue,q,me;for(Y=0;Y<=E;Y++)de[Y]=0;for(F=0;F<fe;F++)de[z[U+F]]++;for(Q=M,G=E;G>=1&&de[G]===0;G--);if(Q>G&&(Q=G),G===0)return I[B++]=1<<24|64<<16|0,I[B++]=1<<24|64<<16|0,L.bits=1,0;for(C=1;C<G&&de[C]===0;C++);for(Q<C&&(Q=C),re=1,Y=1;Y<=E;Y++)if(re<<=1,re-=de[Y],re<0)return-1;if(re>0&&(S===o||G!==1))return-1;for(Se[1]=0,Y=1;Y<E;Y++)Se[Y+1]=Se[Y]+de[Y];for(F=0;F<fe;F++)z[U+F]!==0&&(j[Se[z[U+F]]++]=F);if(S===o?(De=pe=j,be=19):S===u?(De=c,Te-=257,pe=r,ie-=257,be=256):(De=g,pe=m,be=-1),ae=0,F=0,Y=C,le=B,X=Q,te=0,K=-1,P=1<<Q,ve=P-1,S===u&&P>k||S===l&&P>h)return 1;for(;;){ue=Y-te,j[F]<be?(q=0,me=j[F]):j[F]>be?(q=pe[ie+j[F]],me=De[Te+j[F]]):(q=32+64,me=0),se=1<<Y-te,ke=1<<X,C=ke;do ke-=se,I[le+(ae>>te)+ke]=ue<<24|q<<16|me|0;while(ke!==0);for(se=1<<Y-1;ae&se;)se>>=1;if(se!==0?(ae&=se-1,ae+=se):ae=0,F++,--de[Y]===0){if(Y===G)break;Y=z[U+j[F]]}if(Y>Q&&(ae&ve)!==K){for(te===0&&(te=Q),le+=C,X=Y-te,re=1<<X;X+te<G&&(re-=de[X+te],!(re<=0));)X++,re<<=1;if(P+=1<<X,S===u&&P>k||S===l&&P>h)return 1;K=ae&ve,I[K]=Q<<24|X<<16|le-B|0}}return ae!==0&&(I[le+ae]=Y-te<<24|64<<16|0),L.bits=Q,0}},{"../utils/common":5}],14:[function(A,O,w){"use strict";O.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],15:[function(A,O,w){"use strict";function p(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}O.exports=p},{}]},{},[3])(3)})});var ut=et((Et,dt)=>{dt.exports={encode:lt().encode,decode:ht().decode}});var mt={};bt(mt,{default:()=>qe});module.exports=kt(mt);var he=require("obsidian"),_t=xt(ut()),ct={plantumlServerUrl:"http://www.plantuml.com/plantuml",outputFormat:"png",exportMode:"newFile"},qe=class extends he.Plugin{async onload(){await this.loadSettings(),this.addCommand({id:"export-plantuml-diagrams",name:"Export PlantUML diagrams to images",callback:()=>{this.exportDiagrams()}}),this.addSettingTab(new it(this.app,this)),console.log("PlantUML Exporter plugin loaded.")}onunload(){console.log("PlantUML Exporter plugin unloaded.")}async loadSettings(){this.settings=Object.assign({},ct,await this.loadData())}async saveSettings(){await this.saveData(this.settings)}async exportDiagrams(){let ce=this.app.workspace.getActiveViewOfType(he.MarkdownView);if(!ce){new he.Notice("No active Markdown view found.");return}let A=ce.file;if(!A){new he.Notice("No active file found.");return}let O=await this.app.vault.read(A),w=/```plantuml\n([\s\S]*?)\n```/g,p,E=O,k=!1,h=0;if(E=O.replace(w,(o,u)=>{k=!0;try{let l=(0,_t.encode)(u),r=`![PlantUML Diagram](${`${this.settings.plantumlServerUrl}/${this.settings.outputFormat}/${l}`})`;return h++,r}catch(l){return console.error("Error encoding PlantUML:",l),new he.Notice(`Error processing PlantUML block: ${l.message}`),o}}),!k){new he.Notice("No PlantUML code blocks found in the current file.");return}if(E===O){new he.Notice("No changes made. Potential encoding errors occurred.");return}if(this.settings.exportMode==="newFile"){let o=`${A.basename}-exported.md`,u=A.path.replace(A.name,o);try{let l=this.app.vault.getAbstractFileByPath(u);l instanceof he.TFile?(await this.app.vault.modify(l,E),new he.Notice(`Updated existing exported file: ${o} (${h} diagrams)`)):(await this.app.vault.create(u,E),new he.Notice(`Exported PlantUML diagrams to new file: ${o} (${h} diagrams)`))}catch(l){console.error("Error creating/writing exported file:",l),new he.Notice(`Error saving exported file: ${l.message}`)}}else try{await this.app.vault.modify(A,E),new he.Notice(`Modified current file: ${A.name} (${h} diagrams replaced)`)}catch(o){console.error("Error modifying current file:",o),new he.Notice(`Error modifying file: ${o.message}`)}}},it=class extends he.PluginSettingTab{constructor(ce,A){super(ce,A);this.plugin=A}display(){let{containerEl:ce}=this;ce.empty(),ce.createEl("h2",{text:"PlantUML Exporter Settings"}),new he.Setting(ce).setName("PlantUML Server URL").setDesc("The URL of the PlantUML server to use for rendering.").addText(A=>A.setPlaceholder("Enter PlantUML server URL").setValue(this.plugin.settings.plantumlServerUrl).onChange(async O=>{this.plugin.settings.plantumlServerUrl=O.trim()||ct.plantumlServerUrl,await this.plugin.saveSettings()})),new he.Setting(ce).setName("Output Format").setDesc("The image format for the exported diagrams.").addDropdown(A=>A.addOption("png","PNG").addOption("svg","SVG").setValue(this.plugin.settings.outputFormat).onChange(async O=>{this.plugin.settings.outputFormat=O,await this.plugin.saveSettings()})),new he.Setting(ce).setName("Export Mode").setDesc("Choose whether to create a new file or modify the current file.").addDropdown(A=>A.addOption("newFile","Create new file (*-exported.md)").addOption("modifyFile","Modify current file in place").setValue(this.plugin.settings.exportMode).onChange(async O=>{this.plugin.settings.exportMode=O,await this.plugin.saveSettings()}))}};
